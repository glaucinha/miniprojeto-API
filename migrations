Como rodar as migrations (Sequelize)
1ï¸âƒ£ O que sÃ£o migrations

Migrations sÃ£o arquivos que descrevem como o banco de dados deve ser criado ou alterado, usando cÃ³digo JavaScript.

ğŸ‘‰ Em vez de criar tabelas manualmente, o Sequelize cria tudo automaticamente a partir das migrations.

No seu projeto, as migrations criam as tabelas:

alunos

cursos

matriculas

2ï¸âƒ£ PrÃ©-requisitos para rodar migrations

Antes de rodar as migrations, verifique:

âœ” Node.js instalado
âœ” DependÃªncias instaladas (npm install)
âœ” Arquivo package.json existente
âœ” sequelize-cli instalado
âœ” Arquivo .sequelizerc configurado
âœ” ConfiguraÃ§Ã£o do banco em src/database/config/config.js

3ï¸âƒ£ Abrir o terminal na pasta correta

Entre na pasta raiz do projeto, onde estÃ¡ o package.json.


4ï¸âƒ£ Rodar as migrations

Execute o comando:

npx sequelize-cli db:migrate


5ï¸âƒ£ O que esse comando faz

Quando vocÃª roda:

npx sequelize-cli db:migrate


O Sequelize CLI:

LÃª o arquivo de configuraÃ§Ã£o do banco

Conecta ao banco de dados

Executa todas as migrations da pasta migrations

Cria as tabelas definidas

Cria a tabela SequelizeMeta para controle

Marca quais migrations jÃ¡ foram executadas


6ï¸âƒ£ Mensagem de sucesso esperada

No terminal, deve aparecer algo parecido com:

== 20240610-create-alunos: migrating =======
== 20240610-create-alunos: migrated (0.012s)

== 20240610-create-cursos: migrating =======
== 20240610-create-cursos: migrated (0.008s)

== 20240610-create-matriculas: migrating =======
== 20240610-create-matriculas: migrated (0.010s)


âœ” Isso indica que o banco foi criado com sucesso.


7ï¸âƒ£ Conferir se o banco foi criado

Se estiver usando SQLite:

Verifique o arquivo database.sqlite

Abra com DB Browser for SQLite ou Beekeeper Studio

VocÃª deve ver as tabelas:

alunos

cursos

matriculas

SequelizeMeta

Resumo rÃ¡pido

âœ” Abrir terminal na raiz
âœ” Rodar npm install
âœ” Executar npx sequelize-cli db:migrate
âœ” Conferir banco criado

